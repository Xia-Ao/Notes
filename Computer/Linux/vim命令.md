# vim 命令

## vim 编辑设置

自己习惯使用的一份vim编辑器设置。配置文件`.vimrc` 文件,位置如下:
```
/Users/用户/.vimrc
```

```vim
set autoindent

syntax  on

set tabstop=4

set number

set foldenable

set foldmethod=manual

set ruler

set showcmd

set relativenumber

set cursorline
```
## vim 命令

vim键位图，速查

![vi-vim-cheat-sheet-sch.gif](https://i.loli.net/2019/08/11/VfmY9QXieNbqngF.gif)

### 常用命令

**定位**
- `[Ctrl] + [f]`	屏幕『向下』移动一页，相当于 [Page Down]按键 (常用)
- `[Ctrl] + [b]`	屏幕『向上』移动一页，相当于 [Page Up] 按键 (常用)
- `[Ctrl] + [d]`	屏幕『向下』移动半页
- `[Ctrl] + [u]`	屏幕『向上』移动半页
- `+`	光标移动到非空格符的下一行
- `-`	光标移动到非空格符的上一行
- `n<space>`	那个 n 表示『数字』，例如 20 。按下数字后再按空格键，光标会向右移动这一行的 n 个字符。例如 20<space> 则光标会向后面移动 20 个字符距离。
- `0 或功能键[Home]`	这是数字『 0 』：移动到这一行的最前面字符处 (常用)
- `$ 或功能键[End]`	移动到这一行的最后面字符处(常用)
- `H`	光标移动到这个屏幕的最上方那一行的第一个字符
- `M`	光标移动到这个屏幕的中央那一行的第一个字符
- `L`	光标移动到这个屏幕的最下方那一行的第一个字符
- `G`	移动到这个档案的最后一行(常用)
- `nG`	n 为数字。移动到这个档案的第 n 行。例如 20G 则会移动到这个档案的第 20 行(可配合 :set nu)
- `gg`	移动到这个档案的第一行，相当于 1G 啊！ (常用)
- `n<Enter>`	n 为数字。光标向下移动 n 行(常用)

**复制粘贴删除**
-  `x, X`	在一行字当中，x 为向后删除一个字符 (相当于 [del] 按键)， X 为向前删除一个字符(相当于 [backspace] 亦即是退格键) (常用)
- `nx`	n 为数字，连续向后删除 n 个字符。举例来说，我要连续删除 10 个字符， 『10x』。
- `dd`	删除游标所在的那一整行(常用)
- `ndd`	n 为数字。删除光标所在的向下 n 行，例如 20dd 则是删除 20 行 (常用)
- `d1G`	删除光标所在到第一行的所有数据
- `dG`	删除光标所在到最后一行的所有数据
- `d$`	删除游标所在处，到该行的最后一个字符
- `d0`	那个是数字的 0 ，删除游标所在处，到该行的最前面一个字符
- `yy`	复制游标所在的那一行(常用)
- `nyy`	n 为数字。复制光标所在的向下 n 行，例如 20yy 则是复制 20 行(常用)
- `y1G`	复制游标所在行到第一行的所有数据
- `yG`	复制游标所在行到最后一行的所有数据
- `y0`	复制光标所在的那个字符到该行行首的所有数据
- `y$`	复制光标所在的那个字符到该行行尾的所有数据
- `p, P`	p 为将已复制的数据在光标下一行贴上，P 则为贴在游标上一行！ 举例来说，我目前光标在第 20 行，且已经复制了 10 行数据。则按下 p 后， 那 10 行数据会贴在原本的 20 行之后，亦即由 21 行开始贴。但如果是按下 P 呢？ 那么原本的第 20 行会被推到变成 30 行。 (常用)
- `J`	将光标所在行与下一行的数据结合成同一行
- `c`	重复删除多个数据，例如向下删除 10 行，[ 10cj ]
- `u`	复原前一个动作。(常用)
- `[Ctrl]+r`	重做上一个动作。(常用)
- 这个 u 与 [Ctrl]+r 是很常用的指令！一个是复原，另一个则是重做一次～ 利用这两个功能按键，你的编辑，嘿嘿！很快乐的啦！
- `.`	不要怀疑！这就是小数点！意思是重复前一个动作的意思。 如果你想要重复删除、重复贴上等等动作，按下小数点『.』就好了！ (常用)


**搜索**
- `/word`	向光标之下寻找一个名称为 word 的字符串。例如要在档案内搜寻 vbird 这个字符串，就输入 /vbird 即可！ (常用)
- `?word`	向光标之上寻找一个字符串名称为 word 的字符串。
- `n`	这个 n 是英文按键。代表重复前一个搜寻的动作。举例来说， 如果刚刚我们执行 /vbird 去向下搜寻 vbird 这个字符串，则按下 n 后，会向下继续搜寻下一个名称为 vbird 的字符串。如果是执行 ?vbird 的话，那么按下 n 则会向上继续搜寻名称为 vbird 的字符串！
- `N`	这个 N 是英文按键。与 n 刚好相反，为『反向』进行前一个搜寻动作。 例如 /vbird 后，按下 N 则表示『向上』搜寻 vbird 。
- 使用 /word 配合 n 及 N 是非常有帮助的！可以让你重复的找到一些你搜寻的关键词！
- `:n1,n2s/word1/word2/g`	n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2 ！举例来说，在 100 到 200 行之间搜寻 vbird 并取代为 VBIRD 则： `『:100,200s/vbird/VBIRD/g』`。(常用)
- `:1,$s/word1/word2/g` 或 :%s/word1/word2/g	从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！(常用)
- `:1,$s/word1/word2/gc` 或 :%s/word1/word2/gc	从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用)
 

#### 批量注释

**方法一**：块选择模式

* 批量注释：
Ctrl + v 进入块选择模式，然后移动光标选中你要注释的行，再按大写的 I 进入行首插入模式输入注释符号如 // 或 #，输入完毕之后，按两下 ESC，Vim 会自动将你选中的所有行首都加上注释，保存退出完成注释。

* 取消注释：
Ctrl + v 进入块选择模式，选中你要删除的行首的注释符号，注意 // 要选中两个，选好之后按 d 即可删除注释，ESC 保存退出。

**方法二**： 替换命令

* 批量注释。
  * 使用名命令格式： `:起始行号,结束行号s/^/注释符/g`（注意冒号）。

* 取消注释：
  * 使用名命令格式： `:起始行号,结束行号s/^注释符//g`（注意冒号）。

1、在 10 - 20 行添加 // 注释
```
:10,20s#^#//#g
```

2、在 10 - 20 行删除 // 注释
```
:10,20s#^//##g
```

3、在 10 - 20 行添加 # 注释
```
:10,20s/^/#/g
```

4、在 10 - 20 行删除 # 注释
```
:10,20s/#//g
```


参考：
- [vim设置](http://www.ruanyifeng.com/blog/2018/09/vimrc.html)